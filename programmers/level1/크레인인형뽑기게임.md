[![ν”„λ΅κ·Έλλ¨Έμ¤](../ν”„λ΅κ·Έλλ¨Έμ¤ν‘μ§€.png)](https://programmers.co.kr/learn/courses/30/lessons/64061)
# [π‘©π»β€π’»λ¬Έμ λ§ν¬](https://programmers.co.kr/learn/courses/30/lessons/64061)

[ν”„λ΅κ·Έλλ¨Έμ¤ 64061] ν¬λ μΈ μΈν•λ½‘κΈ° κ²μ„ (Javascript)
λ¬Έμ  μ„¤λ…
κ²μ„κ°λ°μμΈ "μ£ λ¥΄λ””"λ” ν¬λ μΈ μΈν•λ½‘κΈ° κΈ°κ³„λ¥Ό λ¨λ°”μΌ κ²μ„μΌλ΅ λ§λ“¤λ ¤κ³  ν•©λ‹λ‹¤.
"μ£ λ¥΄λ””"λ” κ²μ„μ μ¬λ―Έλ¥Ό λ†’μ΄κΈ° μ„ν•΄ ν™”λ©΄ κµ¬μ„±κ³Ό κ·μΉ™μ„ λ‹¤μκ³Ό κ°™μ΄ κ²μ„ λ΅μ§μ— λ°μν•λ ¤κ³  ν•©λ‹λ‹¤.

κ²μ„ ν™”λ©΄μ€ "1 x 1" ν¬κΈ°μ μΉΈλ“¤λ΅ μ΄λ£¨μ–΄μ§„ "N x N" ν¬κΈ°μ μ •μ‚¬κ° κ²©μμ΄λ©° μ„μ½μ—λ” ν¬λ μΈμ΄ μκ³  μ¤λ¥Έμ½μ—λ” λ°”κµ¬λ‹κ°€ μμµλ‹λ‹¤. (μ„ κ·Έλ¦Όμ€ "5 x 5" ν¬κΈ°μ μμ‹μ…λ‹λ‹¤). κ° κ²©μ μΉΈμ—λ” λ‹¤μ–‘ν• μΈν•μ΄ λ“¤μ–΄ μμΌλ©° μΈν•μ΄ μ—†λ” μΉΈμ€ λΉμΉΈμ…λ‹λ‹¤. λ¨λ“  μΈν•μ€ "1 x 1" ν¬κΈ°μ κ²©μ ν• μΉΈμ„ μ°¨μ§€ν•λ©° κ²©μμ κ°€μ¥ μ•„λ μΉΈλ¶€ν„° μ°¨κ³΅μ°¨κ³΅ μ“μ—¬ μμµλ‹λ‹¤. κ²μ„ μ‚¬μ©μλ” ν¬λ μΈμ„ μΆμ°λ΅ μ›€μ§μ—¬μ„ λ©μ¶ μ„μΉμ—μ„ κ°€μ¥ μ„μ— μλ” μΈν•μ„ μ§‘μ–΄ μ¬λ¦΄ μ μμµλ‹λ‹¤. μ§‘μ–΄ μ¬λ¦° μΈν•μ€ λ°”κµ¬λ‹μ— μ“μ΄κ² λλ” λ°, μ΄λ• λ°”κµ¬λ‹μ κ°€μ¥ μ•„λ μΉΈλ¶€ν„° μΈν•μ΄ μμ„λ€λ΅ μ“μ΄κ² λ©λ‹λ‹¤. λ‹¤μ κ·Έλ¦Όμ€ [1λ², 5λ², 3λ²] μ„μΉμ—μ„ μμ„λ€λ΅ μΈν•μ„ μ§‘μ–΄ μ¬λ ¤ λ°”κµ¬λ‹μ— λ‹΄μ€ λ¨μµμ…λ‹λ‹¤.

λ§μ•½ κ°™μ€ λ¨μ–‘μ μΈν• λ‘ κ°κ°€ λ°”κµ¬λ‹μ— μ—°μ†ν•΄μ„ μ“μ΄κ² λλ©΄ λ‘ μΈν•μ€ ν„°λ¨λ ¤μ§€λ©΄μ„ λ°”κµ¬λ‹μ—μ„ μ‚¬λΌμ§€κ² λ©λ‹λ‹¤. μ„ μƒνƒμ—μ„ μ΄μ–΄μ„ [5λ²] μ„μΉμ—μ„ μΈν•μ„ μ§‘μ–΄ λ°”κµ¬λ‹μ— μ“μΌλ©΄ κ°™μ€ λ¨μ–‘ μΈν• λ‘ κ°κ°€ μ—†μ–΄μ§‘λ‹λ‹¤.

ν¬λ μΈ μ‘λ™ μ‹ μΈν•μ΄ μ§‘μ–΄μ§€μ§€ μ•λ” κ²½μ°λ” μ—†μΌλ‚ λ§μ•½ μΈν•μ΄ μ—†λ” κ³³μ—μ„ ν¬λ μΈμ„ μ‘λ™μ‹ν‚¤λ” κ²½μ°μ—λ” μ•„λ¬΄λ° μΌλ„ μΌμ–΄λ‚μ§€ μ•μµλ‹λ‹¤. λν• λ°”κµ¬λ‹λ” λ¨λ“  μΈν•μ΄ λ“¤μ–΄κ° μ μμ„ λ§νΌ μ¶©λ¶„ν ν¬λ‹¤κ³  κ°€μ •ν•©λ‹λ‹¤. (κ·Έλ¦Όμ—μ„λ” ν™”λ©΄ν‘μ‹ μ μ•½μΌλ΅ 5μΉΈλ§μΌλ΅ ν‘ν„ν•μ€μ)

κ²μ„ ν™”λ©΄μ κ²©μμ μƒνƒκ°€ λ‹΄κΈ΄ 2μ°¨μ› λ°°μ—΄ boardμ™€ μΈν•μ„ μ§‘κΈ° μ„ν•΄ ν¬λ μΈμ„ μ‘λ™μ‹ν‚¨ μ„μΉκ°€ λ‹΄κΈ΄ λ°°μ—΄ movesκ°€ λ§¤κ°λ³€μλ΅ μ£Όμ–΄μ§ λ•, ν¬λ μΈμ„ λ¨λ‘ μ‘λ™μ‹ν‚¨ ν›„ ν„°νΈλ ¤μ Έ μ‚¬λΌμ§„ μΈν•μ κ°μλ¥Ό return ν•λ„λ΅ solution ν•¨μλ¥Ό μ™„μ„±ν•΄μ£Όμ„Έμ”.

[μ ν•μ‚¬ν•­]
board λ°°μ—΄μ€ 2μ°¨μ› λ°°μ—΄λ΅ ν¬κΈ°λ” "5 x 5" μ΄μƒ "30 x 30" μ΄ν•μ…λ‹λ‹¤.
boardμ κ° μΉΈμ—λ” 0 μ΄μƒ 100 μ΄ν•μΈ μ •μκ°€ λ‹΄κ²¨μμµλ‹λ‹¤.
0μ€ λΉ μΉΈμ„ λ‚νƒ€λƒ…λ‹λ‹¤.
1 ~ 100μ κ° μ«μλ” κ°κΈ° λ‹¤λ¥Έ μΈν•μ λ¨μ–‘μ„ μλ―Έν•λ©° κ°™μ€ μ«μλ” κ°™μ€ λ¨μ–‘μ μΈν•μ„ λ‚νƒ€λƒ…λ‹λ‹¤.
moves λ°°μ—΄μ ν¬κΈ°λ” 1 μ΄μƒ 1,000 μ΄ν•μ…λ‹λ‹¤.
moves λ°°μ—΄ κ° μ›μ†λ“¤μ κ°’μ€ 1 μ΄μƒμ΄λ©° board λ°°μ—΄μ κ°€λ΅ ν¬κΈ° μ΄ν•μΈ μμ—°μμ…λ‹λ‹¤.
μ…μ¶λ ¥ μ
board	moves	result
[[0,0,0,0,0],[0,0,1,0,3],[0,2,5,0,1],[4,2,4,4,2],[3,5,1,3,1]]	[1,5,3,5,1,2,1,4]	4
μ…μ¶λ ¥ μμ— λ€ν• μ„¤λ…
μ…μ¶λ ¥ μ #1

μΈν•μ μ²μ μƒνƒλ” λ¬Έμ μ— μ£Όμ–΄μ§„ μμ‹μ™€ κ°™μµλ‹λ‹¤. ν¬λ μΈμ΄ [1, 5, 3, 5, 1, 2, 1, 4] λ² μ„μΉμ—μ„ μ°¨λ΅€λ€λ΅ μΈν•μ„ μ§‘μ–΄μ„ λ°”κµ¬λ‹μ— μ®κ²¨ λ‹΄μ€ ν›„, μƒνƒλ” μ•„λ κ·Έλ¦Όκ³Ό κ°™μΌλ©° λ°”κµ¬λ‹μ— λ‹΄λ” κ³Όμ •μ—μ„ ν„°νΈλ ¤μ Έ μ‚¬λΌμ§„ μΈν•μ€ 4κ° μ…λ‹λ‹¤.

<br>

# βοΈIdea Sketch

### **2021-06-26**

#### 1. κ°™μ€ μΈν•μ΄ μ¤νƒμ— μ“μ΄λ©΄ ν„°μ§ --> cnt++
- 4, 3, 1, 1, 3, 2, 4 μμΌλ΅ μ“μ΄κ³ , 1μ΄ λ¨Όμ € ν„°μ§„ ν›„ 3μ΄ ν„°μ§
- μ΄ 4κ°μ μΈν•μ΄ ν„°μ§

#### 2. movesλ§νΌ λ°λ³µλ¬Έ μ‹¤ν–‰
- movesλ¥Ό μΈλ±μ¤ λ°°μ—΄λ΅ μ‚¬μ©ν•κΈ° μ„ν•΄ x = x-1 μ¶”κ°€

```javascript
for (let x of moves) { 
    x = x-1;
}
```
#### 3. board κ°’μ΄ μ΅΄μ¬ν•  λ•κΉμ§€ μν
- board[i][x] === 0 μ΄λ©΄ i++;
- board[i][x] !== 0 μ΄λ©΄ stack.push( board[i][x] );, 0μ΄ λ¨

```javascript
for (let i=0; i<board.length; i++) {
    if (board[i][x]) {
        stack.push(board[i][x]);
        board[i][x] = 0;
    }
}
```

> **μ£Όμ**
board[i][x] κ°’μ΄ μ΅΄μ¬ν•λ©΄ μν μ¤‘μ§€!!
break;

<br>

#### 4. stack κµ¬ν„ 1
- κ°™μ€ μΈν•μ΄ μ“μ΄λ©΄ ν­λ°, cnt + 2
- stack.push( board[i][x] ); ν•κΈ° μ „μ— λ―Έλ¦¬ ν™•μΈν•λ©΄ λ” μΆ‹μ„ λ“―?
- board κ°’μ΄ stackμ λ§μ§€λ§‰ κ°’κ³Ό λ™μΌν•  κ²½μ°, stack.pop(), cnt + 2

```javascript
for (let i=0; i<board.length; i++) {
    if (board[i][x] === stack[stack.length-1]) {
        stack.pop();
        board[i][x] = 0;
        cnt += 2;
    }
    else if (board[i][x]) {
        stack.push(board[i][x]);
        board[i][x] = 0;
    }
}
```

#### 5. stack κµ¬ν„ 2
- board[i][x] κ°’μ΄ μ΅΄μ¬ν•λ©΄ λ¬΄μ΅°κ±΄ stack.push()
- stack[stack.length-1]κ³Ό [stack[stack.length-2]κ°€ λ™μΌν•μ§€ ν™•μΈ

<br>

# βοΈμ†μ¤μ½”λ“

### **2021-06-26 μ •ν™•μ„± ν†µκ³Ό, ν…μΌ€ 4λ² 4.45ms, 33.1MB**
- μ¤νƒμ— λ„£κΈ° μ „, board κ°’κ³Ό stack μ λ§μ§€λ§‰ κ°’μ΄ μΌμΉν•λ”μ§€ ν™•μΈ

```javascript
function solution(board, moves) {
    let cnt = 0;
    let stack = [];

    for (let x of moves) {
        x = x - 1;

        for (let i = 0; i < board.length; i++) {
            if (board[i][x] === stack[stack.length - 1]) {
                stack.pop();
                board[i][x] = 0;
                cnt += 2;
                break;
            }
            else if (board[i][x]) {
                stack.push(board[i][x]);
                board[i][x] = 0;
                break;
            }
        }
    }

    return cnt;
}
```

### **2021-06-26 μ •ν™•μ„± ν†µκ³Ό, ν…μΌ€ 4λ² 0.95ms, 30.1MB**
- board κ°’μ΄ 0μ΄ μ•„λ‹λ©΄ λ¬΄μ΅°κ±΄ stackμ— push
- push ν• ν›„ λ‘ μΈν•μ μΌμΉμ—¬λ¶€ νλ³„

```javascript
function solution(board, moves) {
    let cnt = 0;
    let stack = [];

    for (let x of moves) {
        x = x - 1;

        for (let i = 0; i < board.length; i++) {
            if (board[i][x]) {
                stack.push(board[i][x]);
                board[i][x] = 0;

                let len = stack.length;
                if (stack[len-1] === stack[len-2]) {
                    stack.pop();
                    stack.pop();
                    cnt += 2;
                }
                break;
            }
        }
    }
    return cnt;
}
```
<br>

# βοΈλ…λ‹µ

```javascript
const transpose = matrix =>
    matrix.reduce(
        (result, row) => row.map((_, i) => [...(result[i] || []), row[i]]),
        []
    );

const solution = (board, moves) => {
    const stacks = transpose(board).map(row =>
        row.reverse().filter(el => el !== 0)
    );
    const basket = [];
    let result = 0;

    for (const move of moves) {
        const pop = stacks[move - 1].pop();
        if (!pop) continue;
        if (pop === basket[basket.length - 1]) {
            basket.pop();
            result += 2;
            continue;
        }
        basket.push(pop);
    }

    return result;
};
```
<br>

### **λ“κΈ€ μΈμ©**
> λ‹¤μ‹ μ½μ–΄λ³΄κΈ°
<br>

μμ‹λ¥Ό λ“¤μ–΄, let A = transpose([[1, 2, 3], [4, 5, 6]]) λΌκ³  ν•΄λ³΄μ£ . transposeμ—μ„ κ° μ”μ†λ¥Ό λ¶„μ„ν•λ” ν•¨μκ°€ λ‘ κ° μμµλ‹λ‹¤. reduceμ™€ mapμ…λ‹λ‹¤. reduceλ” [1,2,3]κ³Ό [4,5,6]μ΄ μ”μ†κ°€ λ  κ²ƒμ΄λ©°, mapμ€ reduceκ°€ [1,2,3]μΌ λ• 1κ³Ό 2μ™€ 3μ΄ λλ©°, [4,5,6]μΌ λ•λ” 4,5,6μ΄ λ©λ‹λ‹¤. μ΄ λ• mapμ€ κ° μ”μ†μ— β€ν™”μ‚΄ν‘ ν•¨μμ λ°ν™κ°’β€™μΌλ΅ λ€μ²΄ν•΄μ¤€λ‹¤κ³  ν–μ£ ? κ·Έλ ‡λ‹¤λ©΄ map((_, i) => [(result[i] || []), row[i]])μ—μ„ reduce = [1,2,3]μΌ λ• 1 μ€ map = [β€¦(result[0]||[]),row[0])μ΄ λ©λ‹λ‹¤. κ·Έλ°λ° result[0]μ€ [][0]μ™€ κ°™κ³  μ΄ κ°’μ€ nullμ…λ‹λ‹¤. [β€¦(null||[]),row[0])κ³Ό λ‘κ°™κΈ°μ— μ΄ κ²°κ³Όλ” [β€¦[],1]μ΄ λ©λ‹λ‹¤. (μ—¬κΈ°μ„ A||Bλ” Aμ κ°’μ΄ nullμ΄λ‚ undefinedκ°€ λΌλ©΄ Bλ¥Ό λ°ν™ν•κ³ , μ•„λ‹λΌλ©΄ Aλ¥Ό λ°ν™ν•©λ‹λ‹¤.) κ°™μ€ λ°©μ‹μΌλ΅ 2μ™€ 3μ€ [β€¦[],2],[β€¦[],3]μ΄ λ©λ‹λ‹¤. κ·Έλ¬λ―€λ΅ reduce = [1,2,3]μΌ λ• mapμ„ ν†µν•΄μ„ λ°ν™λλ” κ²ƒμ€ [[β€¦[],1],[β€¦[],2],[β€¦[],3]]μ΄ λλ©°, β€¦λ¬Έλ²•μ€ λΉλ°°μ—΄μ„ λ¬΄μ‹ν•΄λ²„λ¦¬κΈ° λ•λ¬Έμ— [[1],[2],[3]]μ΄ λ©λ‹λ‹¤.

λ‹¤μ reduceκ°€ [4,5,6]μΌ λ•μ— resultμ—λ” β€μ΄μ „ μΈλ±μ¤μ λ°ν™κ°’β€™μΈ [[1],[2],[3]]κ°€ μ €μ¥λμ–΄ μμµλ‹λ‹¤. κ·Έλ¬λ―€λ΅ reduceκ°€ [4,5,6]μΌ λ•μ—λ” 4μ—μ„ [β€¦(result[0],[]),row[0])μΈλ° μ΄ κ°’μ€, [β€¦([1]||[]),row[0])κ³Ό κ°™κ³  μ΄λ” [β€¦[1],4]μ™€ κ°™μµλ‹λ‹¤. κ·Έλ°λ°! β€¦λ¬Έλ²•μ—μ„λ” λ°°μ—΄ μ•μ μ”μ†λ¥Ό λ„μ§‘μ–΄ λ‚΄μ£ΌκΈ° λ•λ¬Έμ—, μ΄λ” [1,4]μ™€ κ°™μµλ‹λ‹¤. κ°™μ€ λ°©λ²•μΌλ΅ μ΄ν›„μ—λ” [2,5],[3,6]μ΄ λ‚μµλ‹λ‹¤. κ²°λ΅ μ μΌλ΅ Aμ—λ” [[1,2,3],[4,5,6]]μ„ ν•¨μλ¥Ό ν†µν•΄ λ³€ν™ν•΄μ¤€ [[1,4],[2,5],[3,6]]μ΄ μ €μ¥λλ” κ²ƒμ…λ‹λ‹¤. λ¬Έμ μ—μ„λ” transpose([[0, 0, 0, 0, 0], [0, 0, 1, 0, 3], [0, 2, 5, 0, 1], [4, 2, 4, 4, 2], [3, 5, 1, 3, 1]])μ΄κΈ° λ•λ¬Έμ— μ΄ κ°’μ€ κ·Έλ ‡λ‹¤λ©΄, [[0, 0, 0, 4, 3],[0, 0, 2, 2, 5],[0, 1, 5, 4, 1],[0, 0, 0, 4, 3],[0, 3, 1, 2, 1]]μ΄ λ©λ‹λ‹¤. μ΄λ” 5X5λ°°μ—΄μ ν–‰κ³Ό μ—΄μ„ λ°”κΎΈμ–΄μ£Όλ” κ²ƒκ³Ό κ°™μ§€μ”